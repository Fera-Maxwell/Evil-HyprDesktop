#!/bin/bash

cat > "$HOME/.config/sxhkd/sxhkdrc" <<'EOF'
# --- Basic apps ---
super + Return
    kitty
super + q
    bspc node -c
super + shift + q
		bspc quit
super + shift + r
    /home/fera/.config/bspwm/restart
super + e
    thunar
# Toggle floating
super + space
    if [ -z "$(bspc query -N -n focused.floating)" ]; then \
        bspc node focused -t floating; \
    else \
        bspc node focused -t tiled; \
    fi
super + r
    rofi -show drun
super + p
    bspc node -t pseudo_tiled
super + j
    bspc node -t ~fullscreen
super + b
    firefox
super + s
    bspc desktop -f SPAD

# --- Focus movement ---
super + Left
    bspc node -f west
super + Right
    bspc node -f east
super + Up
    bspc node -f north
super + Down
    bspc node -f south

super + shift + Left
    bspc node -s west
super + shift + Right
    bspc node -s east
super + shift + Up
    bspc node -s north
super + shift + Down
    bspc node -s south

# --- Workspace movement ---
super + {1-9,0}
    bspc desktop -f ^{1-9,10}
super + shift + {1-9,0}
    bspc node -d ^{1-9,10}

# --- Move windows (like Hyprland's Alt+Arrow) ---
super + alt + Left
    bspc node -v -20 0
super + alt + Right
    bspc node -v 20 0
super + alt + Up
    bspc node -v 0 -20
super + alt + Down
    bspc node -v 0 20

# --- Fullscreen toggle ---
super + f
    bspc node -t '~fullscreen'
EOF

bspc wm -r
pkill -USR1 -x sxhkd 2>/dev/null || pkill -9 -x sxhkd
nohup sxhkd >/dev/null 2>&1 &
